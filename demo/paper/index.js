!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([50,1]),n()}([,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);t.a=r.el2("a"),t.abbr=r.el2("abbr"),t.address=r.el2("address"),t.applet=r.el2("applet"),t.area=r.el2("area"),t.article=r.el2("article"),t.aside=r.el2("aside"),t.audio=r.el2("audio"),t.b=r.el2("b"),t.base=r.el2("base"),t.basefont=r.el2("basefont"),t.bdi=r.el2("bdi"),t.bdo=r.el2("bdo"),t.blockquote=r.el2("blockquote"),t.body=r.el2("body"),t.br=r.el2("br"),t.button=r.el2("button"),t.canvas=r.el2("canvas"),t.caption=r.el2("caption"),t.cite=r.el2("cite"),t.code=r.el2("code"),t.col=r.el2("col"),t.colgroup=r.el2("colgroup"),t.data=r.el2("data"),t.datalist=r.el2("datalist"),t.dd=r.el2("dd"),t.del=r.el2("del"),t.details=r.el2("details"),t.dfn=r.el2("dfn"),t.dialog=r.el2("dialog"),t.dir=r.el2("dir"),t.div=r.el2("div"),t.dl=r.el2("dl"),t.dt=r.el2("dt"),t.em=r.el2("em"),t.embed=r.el2("embed"),t.fieldset=r.el2("fieldset"),t.figcaption=r.el2("figcaption"),t.figure=r.el2("figure"),t.font=r.el2("font"),t.footer=r.el2("footer"),t.form=r.el2("form"),t.frame=r.el2("frame"),t.frameset=r.el2("frameset"),t.h1=r.el2("h1"),t.h2=r.el2("h2"),t.h3=r.el2("h3"),t.h4=r.el2("h4"),t.h5=r.el2("h5"),t.h6=r.el2("h6"),t.head=r.el2("head"),t.header=r.el2("header"),t.hgroup=r.el2("hgroup"),t.hr=r.el2("hr"),t.html=r.el2("html"),t.i=r.el2("i"),t.iframe=r.el2("iframe"),t.img=r.el2("img"),t.input=r.el2("input"),t.ins=r.el2("ins"),t.kbd=r.el2("kbd"),t.label=r.el2("label"),t.legend=r.el2("legend"),t.li=r.el2("li"),t.link=r.el2("link"),t.listing=r.el2("listing"),t.main=r.el2("main"),t.map=r.el2("map"),t.mark=r.el2("mark"),t.marquee=r.el2("marquee"),t.menu=r.el2("menu"),t.meta=r.el2("meta"),t.meter=r.el2("meter"),t.nav=r.el2("nav"),t.noscript=r.el2("noscript"),t.object=r.el2("object"),t.ol=r.el2("ol"),t.optgroup=r.el2("optgroup"),t.option=r.el2("option"),t.output=r.el2("output"),t.p=r.el2("p"),t.param=r.el2("param"),t.picture=r.el2("picture"),t.pre=r.el2("pre"),t.progress=r.el2("progress"),t.q=r.el2("q"),t.rp=r.el2("rp"),t.rt=r.el2("rt"),t.ruby=r.el2("ruby"),t.s=r.el2("s"),t.samp=r.el2("samp"),t.script=r.el2("script"),t.section=r.el2("section"),t.select=r.el2("select"),t.slot=r.el2("slot"),t.small=r.el2("small"),t.source=r.el2("source"),t.span=r.el2("span"),t.strong=r.el2("strong"),t.style=r.el2("style"),t.sub=r.el2("sub"),t.summary=r.el2("summary"),t.sup=r.el2("sup"),t.table=r.el2("table"),t.tbody=r.el2("tbody"),t.td=r.el2("td"),t.template=r.el2("template"),t.textarea=r.el2("textarea"),t.tfoot=r.el2("tfoot"),t.th=r.el2("th"),t.thead=r.el2("thead"),t.time=r.el2("time"),t.title=r.el2("title"),t.tr=r.el2("tr"),t.track=r.el2("track"),t.u=r.el2("u"),t.ul=r.el2("ul"),t.varEl=r.el2("var"),t.video=r.el2("video"),t.wbr=r.el2("wbr"),t.xmp=r.el2("xmp")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(12),i=n(41);t.removeNode=function(e){var t=e;t&&t.onblur&&(t.onblur=null),e&&void 0!==e.ownerDocument&&e.parentElement&&e.parentElement.removeChild(e)},t.insertFBefore=function(e){return function(t){null!=e.parentElement&&e.parentElement.insertBefore(t,e)}},t.domChildToTemplate=function(e){return"string"==typeof e||"function"==typeof e||void 0===e?i.text(e):e},t.processAttribute=function(e,t,n,i){var a=r.htmlAttributeMap[t]||o.setAttribute;if("function"==typeof n)if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var u=function(r){var o=n(r);a(e,t,o)};i.push(u)}else{var c=void 0;u=function(r){var o=n(r);o!==c&&(a(e,t,o),String(o).length<5e4&&(c=o))};i.push(u)}else a(e,t,n);return i},t.processEvent=function(e,t,n,r,o){var i;return e[t]=function(t){var o=n(i,t,e);void 0!==o&&r(o)},o.push((function(e){i=e})),o},t.processStyle=function(e,t,n,r){var i;"function"==typeof n?r.push((function(r){var a=n(r);a!==i&&(o.setOneStyle(e,t,a),i=a)})):o.setOneStyle(e,t,n);return r},t.containerSize=function(e){for(var t=[],n=0;n<e.children.length;n++){var r=e.children[n];t[n]=r.style.display,r.style.display="none"}var o={width:e.offsetWidth,height:e.offsetHeight};for(n=0;n<e.children.length;n++){(r=e.children[n]).style.display=t[n]}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40);t.map=function(e,t){for(var n=t.length,r=new Array(n),o=0;o<n;o++)r[o]=e(t[o]);return r},t.flatMap=function(e,t){for(var n=new Array,r=0,o=t;r<o.length;r++){var i=o[r];n.push.apply(n,e(i))}return n},t.head=function(e){return e.length>0?e[0]:r.nothing},t.tail=function(e){return e.slice(1)},t.equals=function(e,t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0},t.isEmpty=function(e){return 0===e.length},t.hasValues=function(e){return e.length>0},t.filter=function(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];e(i)&&n.push(i)}return n},t.flatten=function(e){var t;return(t=[]).concat.apply(t,e)},t.foldLeft=function(e,t,n){for(var r=0,o=t;r<o.length;r++){n=e(n,o[r])}return n},t.all=function(e,t){for(var n=0,r=t;n<r.length;n++){if(!e(r[n]))return!1}return!0},t.any=function(e,t){for(var n=0,r=t;n<r.length;n++){if(e(r[n]))return!0}return!1},t.each=function(e,t){for(var n=0,r=t;n<r.length;n++){e(r[n])}},t.concat=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=[]).concat.apply(e,t)},t.sort=function(e,t){return t.slice().sort(e)},t.range=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t(r);return n},t.numbersRange=function(e,n){return void 0===n&&(n=0),t.range(e,(function(e){return n+e}))},t.fill=function(e,n){return t.range(e,(function(){return n}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),o=n(15),i=function(){function e(e,t){this.property=e,this.reducer=t,this.observable=this.emitter=o.Emitter.ofThree()}return e.ofState=function(t){return new e(new r.Property(t.state,t.equal),t.reducer)},e.prototype.process=function(e){var t=this.reducer(this.property.get(),e),n=this.property.set(t);return this.emitter.emit(t,e,n),n},e}();t.Store=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(7),a=n(43),u=function(){function e(e,t,n){this.path=e,this.matcher=t,this.refId=n}return e.prototype.render=function(e,t){var n=e.withAppendToReference(this.refId),r=n.ctx,i=n.ref,a=this.path.reduce((function(e,t){return e[t]}),t),u=this.matcher[a].render(r,t),c=this.matcher,s=this.path;return{change:function(e){var t=s.reduce((function(e,t){return e[t]}),e);t===a?u.change(e):(u.destroy(),a=t,u=c[t].render(r,e))},destroy:function(){o.removeNode(i),u.destroy()},request:function(e){u.request(e)}}},e}();t.MatchTemplate=u,t.match=function(e,t,n){return new u(e,Object.keys(t).reduce((function(e,n){var i;return r(r({},e),((i={})[n]=o.domChildToTemplate(t[n]),i))}),{}),n||"t:match")},t.matchKind=function(e,n){return void 0===n&&(n="t-match-kind"),t.match(["kind"],e,n)};var c=function(){function e(e,t,n,r){this.condition=e,this.trueTemplate=t,this.falseTemplate=n,this.refId=r}return e.prototype.render=function(e,t){var n=e.withAppendToReference(this.refId),r=n.ctx,i=n.ref,u=this.trueTemplate,c=this.falseTemplate,s=a.resolveAttribute(this.condition),l=s(t),f=l?u.render(r,t):c.render(r,t);return{change:function(e){var t=s(e);t===l?f.change(e):(f.destroy(),l=t,f=t?u.render(r,e):c.render(r,e))},destroy:function(){o.removeNode(i),f.destroy()},request:function(e){f.request(e)}}},e}();t.MatchBoolTemplate=c,t.matchBool=function(e){return new c(e.condition,o.domChildToTemplate(e.true),o.domChildToTemplate(e.false),e.refId||"t:match-bool")};var s=function(){function e(e,t,n,r){this.path=e,this.matchers=t,this.orElse=n,this.refId=r}return e.prototype.render=function(e,t){var n=this,r=this.matchers,i=this.orElse,a=e.withAppendToReference(this.refId),u=a.ctx,c=a.ref,s=this.path.reduce((function(e,t){return e[t]}),t),l=(this.matchers[s]||this.orElse).render(u,t);return{change:function(e){var t=n.path.reduce((function(e,t){return e[t]}),e);if(t===s)l.change(e);else{l.destroy(),s=t;var o=r[t]||i;l=o.render(u,e)}},destroy:function(){o.removeNode(c),l.destroy()},request:function(e){l.request(e)}}},e}();t.MatchValueTemplate=s,t.matchValue=function(e,t,n,i){return new s(e,Object.keys(t).reduce((function(e,n){var i;return r(r({},e),((i={})[n]=o.domChildToTemplate(t[n]),i))}),{}),o.domChildToTemplate(n),i||"t:match-value")},t.matchOption=function(e,n){return void 0===n&&(n="t-match-option"),t.matchKind({Some:i.mapState({map:function(e){return e.value}},e.Some),None:i.mapState({map:function(){return null}},e.None)},n)},t.matchMaybe=function(e,t){return void 0===t&&(t="t-match-option"),new c((function(e){return void 0!==e}),i.mapState({map:function(e){return e}},o.domChildToTemplate(e.Just)),o.domChildToTemplate(e.Nothing),t)},t.matchResult=function(e,n){return void 0===n&&(n="t-match-result"),t.matchKind({Success:i.mapState({map:function(e){return e.value}},e.Success),Failure:i.mapState({map:function(e){return e.error}},e.Failure)},n)},t.matchAsync=function(e,n){return void 0===n&&(n="t-match-async"),t.matchKind({Outcome:i.mapState({map:function(e){return e.value}},e.Outcome),Loading:i.mapState({map:function(e){return e.progress}},e.Loading),NotAsked:i.mapState({map:function(){return null}},e.NotAsked)},n)},t.matchAsyncResult=function(e,n){return void 0===n&&(n="t-match-async-result"),t.matchKind({Outcome:i.mapState({map:function(e){return e.value}},t.matchResult({Success:e.Success,Failure:e.Failure},n+"-sub")),Loading:i.mapState({map:function(e){return e.progress}},e.Loading),NotAsked:i.mapState({map:function(){return null}},e.NotAsked)},n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=function(){function e(e,t,n,r){this.createItem=e,this.changeItem=t,this.destroy=n,this.request=r}return e.prototype.render=function(e,t){var n={value:void 0},r=this.createItem(n,e)(t),o=r.item,i=r.views;return e.append(o),{change:this.changeItem(n,e,o,i),destroy:this.destroy(n,e,o,i),request:this.request(n,e,o,i)}},e}();t.ItemTemplate=o,t.createItem=function(e,t,n){var i=t.afterchange,a=t.afterrender,u=t.beforechange,c=t.beforedestroy,s=r.removeFields(t,"afterchange","afterrender","beforechange","beforedestroy"),l=Object.keys(s).map((function(e){var t=s[e];if("on"===e.substring(0,2)){var n=t;return{kind:"dynamic",f:function(t,r,o){r[e]=function(e){var i=n(t,e,r,o.project);void 0!==i&&o.dispatch(i)}}}}if("function"==typeof t){var r=t;return{kind:"dynamic",f:function(t,n){var o=n,i=r(t);o[e]=i}}}return{kind:"static",f:function(n,r){return r[e]=t}}})),f=l.filter((function(e){return"dynamic"===e.kind})).map((function(e){return e.f}));return new o((function(t,r){return function(o){var i,u=e(o);l.forEach((function(e){return e.f(o,u,r)}));var c=r.withAppend((function(e){return u.addChild(e)})),s=null===(i=n)||void 0===i?void 0:i.map((function(e){return e.render(c,o)}));return a&&(t.value=a(o,u,r)),{item:u,views:s}}}),(function(e,t,n,r){return function(o){u&&(e.value=u(o,n,t,e.value)),r&&r.forEach((function(e){return e.change(o)})),f.forEach((function(e){return e(o,n,t)})),i&&(e.value=i(o,n,t,e.value))}}),(function(e,t,n,r){return function(){c&&c(n,t,e.value),n.remove(),r&&r.forEach((function(e){return e.destroy()}))}}),(function(e,n,r,o){return function(i){var a;null===(a=o)||void 0===a||a.forEach((function(e){return e.request(i)})),void 0!==t.request&&t.request(i,r,n,e.value)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),i=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,r=this.map,i=r(t),a=o.map((function(t){return t.render(e,i)}),n);return{change:function(e){for(var t=r(e),n=0,o=a;n<o.length;n++){o[n].change(t)}},destroy:function(){for(var e=0,t=a;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=a;t<n.length;t++){n[t].request(e)}}}},e}();t.MapStateTemplate=i,t.mapState=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i(e.map,o.map(r.domChildToTemplate,t))},t.mapStateAndKeep=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i((function(t){return[e.map(t),t]}),o.map(r.domChildToTemplate,t))};var a=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,r=this.map,i=e.conditionalMapAction(r),a=o.map((function(e){return e.render(i,t)}),n);return{change:function(e){for(var t=0,n=a;t<n.length;t++){n[t].change(e)}},destroy:function(){for(var e=0,t=a;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=a;t<n.length;t++){n[t].request(e)}}}},e}();t.MapActionTemplate=a,t.mapAction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(e.map,o.map(r.domChildToTemplate,t))};var u=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,r=this.map,i=o.map((function(n){return n.render(e,t)}),n);return{change:function(e){for(var t=0,n=i;t<n.length;t++){n[t].change(e)}},destroy:function(){for(var e=0,t=i;e<t.length;e++){t[e].destroy()}},request:function(e){var t=r(e);void 0!==t&&i.forEach((function(e){return e.request(t)}))}}},e}();t.MapQueryTemplate=u,t.mapQuery=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new u(e.map,o.map(r.domChildToTemplate,t))},t.mapQueryConditional=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new u(e.map,o.map(r.domChildToTemplate,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(n,r){return t.reduce((function(e,t){return t(e,r)}),e(n,r))}},t.matchReduce=function(e,t){return function(n,r){var o=r[e];return t[o](n,r)}},t.reduceOnKind=function(e){return function(t,n){var r=n.kind;return e[r](t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.mergeStates=e,this.propagate=t,this.child=n}return e.prototype.render=function(e,t){var n=this,r=this.mergeStates&&this.mergeStates(t,this.child.store.property.get())||this.child.store.property.get(),o=this.child.render(e.withDispatch((function(){})),r);return this.child.store.observable.on((function(r,o){n.propagate({action:o,innerState:r,outerState:t,dispatchInner:function(e){return n.child.store.process(e)},dispatchOuter:e.dispatch})})),{change:function(e){var t=n.mergeStates(e,n.child.store.property.get());void 0!==t&&o.change(t)},destroy:function(){o.destroy()},request:function(e){o.request(e)}}},e}();t.PaperAdapterTemplate=r,t.adapter=function(e,t){return new r(e.mergeStates||function(e,t){},e.propagate||function(){},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(e,t,n){this.store=e,this.children=t,this.delayed=n}return e.prototype.render=function(e,t){var n;if(this.delayed){var o=!0;n=function(e){o&&(o=!1,setTimeout((function(){s.change(e),o=!0})))}}else n=function(e){s.change(e)};var i=this.store,a=i.property;a.observable.on(n);var u=e.withDispatch((function(e){i.process(e)})),c=r.map((function(e){return e.render(u,a.get())}),this.children),s={change:function(e){i.property.set(e);for(var t=0,n=c;t<n.length;t++){n[t].change(e)}},destroy:function(){a.observable.off(n);for(var e=0,t=c;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=c;t<n.length;t++){n[t].request(e)}}};return a.set(t),s},e}();t.PaperComponentTemplate=o,t.component=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new o(e.store,t,e.delayed||!1)}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=n(46);t.iterate=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return o.mapState({map:function(n){return t=n,e.getArray(n)}},i.until.apply(void 0,r([{repeatUntil:function(e,n){return e[n]&&[e[n],t,n]}}],n)))},t.iterateItems=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.mapState({map:function(t){return e.getArray(t)}},i.until.apply(void 0,r([{repeatUntil:function(e,t){return e[t]}}],t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function o(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}t.setOneStyle=function(e,t,n){var r=e.style;r[t]=null==n?null:n},t.setAttribute=o,t.setProperty=function(e,t,n){var r=e;r[t]=null==n?null:n},t.setStyleAttribute=function(e,t,n){if(null==n)e.removeAttribute(t);else if("string"==typeof n)o(e,t,n);else{var i=r.map((function(e){return e+": "+n[e]+";"}),Object.keys(n)).join(" ");o(e,t,i.length&&i||null)}},t.setBoolProperty=function(e,t,n){var r=e;if(null==n)r[t]=null;else{var o=!0===n||"true"===n;r[t]=o}},t.setEnumBoolAttribute=function(e,t,n){o(e,t,!0===n||"true"===n?"true":!1===n?"false":null)},t.setBoolAttribute=function(e,t,n){o(e,t,!0===n||"true"===n?"":null)},t.setCommaSeparated=function(e,t,n){Array.isArray(n)?o(e,t,n.join(", ")||null):o(e,t,n&&String(n)||null)},t.setSpaceSeparated=function(e,t,n){Array.isArray(n)?o(e,t,n.join(" ")||null):o(e,t,n&&String(n)||null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(19);t.tool=function(e){return{render:function(t,n){var i,a=new t.scope.Tool;e.afterrender&&(i=e.afterrender(n,a,t));var u=r.resolveAttribute(e.active)(n);void 0!==u&&!0!==u||a.activate();var c=[];c.push((function(e){return n=e})),"function"==typeof e.active&&c.push((function(t){(0,e.active)(t)&&a.activate()}));var s=a;return o.keys(e).forEach((function(o){if(o.startsWith("on")){var i=e[o];s[o]=function(e){var r=i(n,e,a,t.project);void 0!==r&&t.dispatch(r)}}else{var u=r.resolveAttribute(e[o]);if(s[o]=u,"function"==typeof e[o]){var l=o;c.push((function(t){var n=e[l];s[l]=n(t)}))}}})),{change:function(n){e.beforechange&&(i=e.beforechange(n,a,t,i)),c.forEach((function(e){return e(n)})),e.afterchange&&(i=e.afterchange(n,a,t,i))},destroy:function(){e.beforedestroy&&e.beforedestroy(a,t,i),a.remove()},request:function(e){}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6);t.path=function(e){return o.createItem((function(t){return void 0!==e.args?new r.Path(e.args):new r.Path([])}),e)},t.pathLine=function(e){return o.createItem((function(t){return new r.Path.Line(e.args)}),e)},t.pathCircle=function(e){return o.createItem((function(t){return new r.Path.Circle(e.args)}),e)},t.pathRectangle=function(e){return o.createItem((function(t){return new r.Path.Rectangle(e.args)}),e)},t.pathEllipse=function(e){return o.createItem((function(t){return new r.Path.Ellipse(e.args)}),e)},t.pathArc=function(e){return o.createItem((function(t){return new r.Path.Arc(e.args)}),e)},t.pathRegularPolygon=function(e){return o.createItem((function(t){return new r.Path.RegularPolygon(e.args)}),e)},t.pathStar=function(e){return o.createItem((function(t){return new r.Path.Star(e.args)}),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners=[]}return e.ofOne=function(){return new e},e.ofTwo=function(){return new e},e.ofThree=function(){return new e},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=this.listeners;n<r.length;n++){var o=r[n];o.apply(void 0,e)}},e.prototype.on=function(e){this.listeners.push(e)},e.prototype.off=function(e){var t=this.listeners.indexOf(e);return!(t<0)&&(this.listeners.splice(t,1),!0)},e.prototype.once=function(e){var t=this,n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.off(n),e.apply(void 0,r)};this.on(n)},e}();t.Emitter=r,t.debounce=function(e){return function(t){var n,r=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n=o,r||(r=!0,setTimeout((function(){r=!1,t.apply(void 0,n)}),e))}}},t.nextFrame=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t=r,n||(n=!0,requestAnimationFrame((function(){n=!1,e.apply(void 0,t)})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),i=n(17),a=function(e,t,n){return function(r,o){return e(r,t,n,o)}},u=function(){function e(e,t,n,r,o,i,a,u,c,s){this.createElement=e,this.attrs=t,this.events=n,this.styles=r,this.afterrender=o,this.beforechange=i,this.afterchange=a,this.beforedestroy=u,this.respond=c,this.children=s}return e.prototype.render=function(e,t){for(var n=this,i=this.createElement(e.doc),u=void 0,c=[],s=0,l=this.attrs;s<l.length;s++){var f=l[s];r.processAttribute(i,f.name,f.value,c)}for(var p=0,d=this.events;p<d.length;p++){f=d[p];r.processEvent(i,f.name,f.value,e.dispatch,c)}for(var h=0,v=this.styles;h<v.length;h++){f=v[h];r.processStyle(i,f.name,f.value,c)}for(var m=0,g=c;m<g.length;m++){(0,g[m])(t)}var y=e.withAppend((function(e){return i.appendChild(e)})).withParent(i),b=o.map((function(e){return e.render(y,t)}),this.children);e.append(i),this.afterrender&&(u=function(e,t,n,r){return void 0!==typeof e?e(r,t,n):void 0}(this.afterrender,i,e,t));var w=o.map((function(e){return function(t){return e.change(t)}}),b);if(c.push.apply(c,w),this.beforechange){var O=a(this.beforechange,i,e),j=function(e){u=O(e,u)};c.unshift(j)}if(this.afterchange){var S=a(this.afterchange,i,e);j=function(e){u=S(e,u)};c.push(j)}var P=this.beforedestroy&&function(){return n.beforedestroy(i,e,u)},x=this.respond;return{change:function(e){for(var t=0,n=c;t<n.length;t++){(0,n[t])(e)}},destroy:function(){P&&P(),r.removeNode(i);for(var e=0,t=b;e<t.length;e++){t[e].destroy()}},request:function(t){x&&(u=x(t,i,e,u));for(var n=0,r=b;n<r.length;n++){r[n].request(t)}}}},e}();function c(e){return o.map((function(t){var n=t.toLowerCase();return{name:n=i.attributeNameMap[n]||n,value:e[t]}}),Object.keys(e||{}))}function s(e){return o.map((function(t){return{name:"on"+t.toLowerCase(),value:e[t]}}),Object.keys(e||{}))}function l(e){return o.map((function(t){return{name:t,value:e[t]}}),Object.keys(e||{}))}t.DOMElement=u;var f=function(e){return function(t){return t.createElement(e)}};t.el=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return new u(f(e),c(t.attrs),s(t.events),l(t.styles),t.afterrender,t.beforechange,t.afterchange,t.beforedestroy,t.respond,o.map(r.domChildToTemplate,n))},t.el2=function(e){return function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return new u(f(e),c(t.attrs),s(t.events),l(t.styles),t.afterrender,t.beforechange,t.afterchange,t.beforedestroy,t.respond,o.map(r.domChildToTemplate,n))}},t.defaultNamespaces={svg:"http://www.w3.org/2000/svg"};var p=function(e,t){return function(n){return n.createElementNS(e,t)}};t.elNS=function(e,n,i){for(var a=[],f=3;f<arguments.length;f++)a[f-3]=arguments[f];var d=t.defaultNamespaces[e]||e;return new u(p(d,n),c(i.attrs),s(i.events),l(i.styles),i.afterrender,i.beforechange,i.afterchange,i.beforedestroy,i.respond,o.map(r.domChildToTemplate,a))},t.elNS2=function(e,t){return function(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return new u(p(e,t),c(n.attrs),s(n.events),l(n.styles),n.afterrender,n.beforechange,n.afterchange,n.beforedestroy,n.respond,o.map(r.domChildToTemplate,i))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.attributeNameMap={acceptcharset:"accept-charset",asattr:"as",classname:"class",httpequiv:"http-equiv",htmlfor:"for"},t.htmlAttributeMap={"accept-charset":r.setSpaceSeparated,class:r.setSpaceSeparated,acceptcharset:r.setSpaceSeparated,async:r.setBoolAttribute,autofocus:r.setBoolAttribute,autoplay:r.setBoolAttribute,checked:r.setBoolProperty,contenteditable:r.setEnumBoolAttribute,controls:r.setBoolAttribute,default:r.setBoolAttribute,defer:r.setBoolAttribute,disabled:r.setBoolAttribute,draggable:r.setEnumBoolAttribute,formnovalidate:r.setBoolAttribute,headers:r.setSpaceSeparated,hidden:r.setBoolAttribute,ismap:r.setBoolAttribute,itemscope:r.setBoolAttribute,loop:r.setBoolAttribute,multiple:r.setBoolProperty,muted:r.setBoolProperty,nomodule:r.setBoolAttribute,novalidate:r.setBoolAttribute,open:r.setBoolAttribute,ping:r.setSpaceSeparated,playsinline:r.setBoolAttribute,readonly:r.setBoolAttribute,rel:r.setSpaceSeparated,required:r.setBoolAttribute,reversed:r.setBoolAttribute,selected:r.setBoolProperty,sizes:r.setCommaSeparated,srcset:r.setCommaSeparated,style:r.setStyleAttribute,typemustmatch:r.setBoolAttribute,value:r.setProperty}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAttribute=function(e){return"function"==typeof e?e:function(t){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keys=function(e){return Object.keys(e)},t.removeFields=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.keys(e).reduce((function(t,r){return n.indexOf(r)<0&&(t[r]=e[r]),t}),{})},t.merge=function(e,t){return Object.assign({},e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=function(){function e(e,t,n,r){this.doc=e,this.append=t,this.parent=n,this.dispatch=r}return e.fromElement=function(t,n){return new e(t.ownerDocument||window&&window.document,(function(e){return t.appendChild(e)}),t,n)},e.prototype.mapAction=function(t){var n=this;return new e(this.doc,this.append,this.parent,(function(e){return n.dispatch(t(e))}))},e.prototype.conditionalMapAction=function(t){var n=this;return new e(this.doc,this.append,this.parent,(function(e){var r=t(e);void 0!==r&&n.dispatch(r)}))},e.prototype.withAppendToReference=function(e){var t=this.doc.createComment(e||"t:ref");return this.append(t),{ctx:this.withAppend(r.insertFBefore(t)),ref:t}},e.prototype.withAppend=function(t){return new e(this.doc,t,this.parent,this.dispatch)},e.prototype.withParent=function(t){return new e(this.doc,this.append,t,this.dispatch)},e.prototype.withDispatch=function(t){return new e(this.doc,this.append,this.parent,t)},e}();t.DOMContext=o},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(42);t.iterate=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return o.mapState({map:function(n){return t=n,e.getArray(n)}},i.until.apply(void 0,r([{repeatUntil:function(e,n){return e[n]&&[e[n],t,n]}}],n)))},t.iterateItems=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.mapState({map:function(t){return e.getArray(t)}},i.until.apply(void 0,r([{repeatUntil:function(e,t){return e[t]}}],t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(0),i=n(44),a=n(18);t.project=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.el("canvas",{attrs:{width:e.width,height:e.height},afterrender:function(n,r,u){var c=e.scope||o.PaperScope.get(0),s=[];c.setup(r),c.install(window);var l=a.resolveAttribute(e.active)(n);void 0!==l&&!0!==l||c.activate();var f=c.project;void 0!==l&&!0!==l||f.activate(),"function"==typeof e.active&&s.push((function(t){(0,e.active)(t)&&(c.activate(),f.activate())})),"function"==typeof e.width&&s.push((function(t){var n=e.width;f.view.viewSize.width=n(t)||null})),"function"==typeof e.height&&s.push((function(t){var n=e.height;f.view.viewSize.height=n(t)||null}));var p=f.activeLayer,d=new i.PaperContext(r,c,f,(function(e){return p.addChild(e)}),(function(e){return u.dispatch(e)})),h=t.map((function(e){return e.render(d,n)}));return{context:d,views:h,derived:s}},afterchange:function(e,t,n,r){var o,i;return null===(o=r)||void 0===o||o.derived.forEach((function(t){return t(e)})),null===(i=r)||void 0===i||i.views.forEach((function(t){return t.change(e)})),r},beforedestroy:function(e,t,n){if(void 0!==typeof n){var r=n,o=r.context;r.views.forEach((function(e){return e.destroy()})),o.project.remove()}},respond:function(t,n,r,o){return void 0!==typeof o?(o.views.forEach((function(e){return e.request(t)})),e.respond&&e.respond(t,n,r,o),o):void 0}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.path=e,this.matcher=t}return e.prototype.render=function(e,t){var n=this.path.reduce((function(e,t){return e[t]}),t),r=this.matcher[n].render(e,t),o=this.matcher,i=this.path;return{change:function(t){var a=i.reduce((function(e,t){return e[t]}),t);a===n?r.change(t):(r.destroy(),n=a,r=o[a].render(e,t))},destroy:function(){r.destroy()},request:function(e){r.request(e)}}},e}();t.MatchTemplate=o,t.match=function(e,t){return new o(e,Object.keys(t).reduce((function(e,n){var o;return r(r({},e),((o={})[n]=t[n],o))}),{}))},t.matchKind=function(e){return t.match(["kind"],e)};var i=function(){function e(e,t,n){this.condition=e,this.trueTemplate=t,this.falseTemplate=n}return e.prototype.render=function(e,t){var n=this.condition,r=this.trueTemplate,o=this.falseTemplate,i=n(t),a=i?r.render(e,t):o.render(e,t);return{change:function(t){var u=n(t);u===i?a.change(t):(a.destroy(),i=u,a=u?r.render(e,t):o.render(e,t))},destroy:function(){a.destroy()},request:function(e){a.request(e)}}},e}();t.MatchBoolTemplate=i,t.matchBool=function(e){return new i(e.condition,e.true,e.false)};var a=function(){function e(e,t,n){this.path=e,this.matchers=t,this.orElse=n}return e.prototype.render=function(e,t){var n=this,r=this.matchers,o=this.orElse,i=this.path.reduce((function(e,t){return e[t]}),t),a=(this.matchers[i]||this.orElse).render(e,t);return{change:function(t){var u=n.path.reduce((function(e,t){return e[t]}),t);if(u===i)a.change(t);else{a.destroy(),i=u;var c=r[u]||o;a=c.render(e,t)}},destroy:function(){a.destroy()},request:function(e){a.request(e)}}},e}();t.MatchValueTemplate=a,t.matchValue=function(e,t,n){return new a(e,Object.keys(t).reduce((function(e,n){var o;return r(r({},e),((o={})[n]=t[n],o))}),{}),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.f=e}return e.prototype.render=function(e,t){return this.f().render(e,t)},e}();t.PaperLazyTemplate=r,t.lazy=function(e){return new r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6);t.circle=function(e){return o.createItem((function(t){return void 0!==e.args?new r.Shape.Circle(e.args):new r.Shape.Circle(new r.Point(0,0),0)}),e)},t.rectangle=function(e){return o.createItem((function(t){return void 0!==e.args?new r.Shape.Rectangle(e.args):new r.Shape.Rectangle(new r.Point(0,0),new r.Point(0,0))}),e)},t.ellipse=function(e){return o.createItem((function(t){return void 0!==e.args?new r.Shape.Ellipse(e.args):new r.Shape.Ellipse({center:new r.Point(0,0),size:new r.Size(0,0)})}),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6);t.layer=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.createItem((function(t){return void 0!==e.args?new r.Layer(e.args):new r.Layer([])}),e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6);t.symbolItem=function(e){return o.createItem((function(t){return new r.SymbolItem(e.definition)}),e)}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),i=n(20);t.htmlPortal=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return{render:function(n,a){var u=n.canvas.ownerDocument,c=new i.DOMContext(u,(function(){}),n.canvas,n.dispatch),s=o.portal.apply(void 0,r([{append:function(t,n){e.append(t,n)},getParent:e.getParent}],t)).render(c,a);return{change:function(e){s.change(e)},destroy:function(){s.destroy()},request:function(e){s.request(e)}}}}},t.htmlPortalWithSelector=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return t.htmlPortal.apply(void 0,r([{getParent:function(t){var n=t.querySelector(e.selector);if(!n)throw new Error("selector doesn't match any element: \""+e.selector+'"');return n},append:function(t,n){t.querySelector(e.selector).appendChild(n)}}],n))},t.htmlHeadPortal=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.htmlPortal.apply(void 0,r([{getParent:function(e){return e.head},append:function(e,t){return e.head.appendChild(t)}}],e))},t.htmlBodyPortal=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.htmlPortal.apply(void 0,r([{getParent:function(e){return e.body},append:function(e,t){return e.body.appendChild(t)}}],e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.match=function(e,t,n){return t[n[e]](n)},t.deepMatch=function(e,t,n){return t[e.reduce((function(e,t){return e[t]}),n)](n)},t.createMatch=function(e){return function(t){return function(n){var r=n[e];return t[r](n)}}},t.createDeepMatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(n){var r=e.reduce((function(e,t){return e[t]}),n);return t[r](n)}}},t.matchKind=t.createMatch("kind")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),o=n(20);t.Tempo={renderComponent:function(e){var t=e.el,n=e.component,r=n.store,i=e.document||document,a=t||i.body;return{view:n.render(new o.DOMContext(i,(function(e){return a.appendChild(e)}),a,(function(){})),r.property.get()),store:r}},render:function(e){var n=e.el,o=e.store,i=e.document,a=e.template,u=e.delayed,c=r.component({store:o,delayed:u},a);return t.Tempo.renderComponent({el:n,component:c,document:i})}}},function(e,t,n){var r=n(32);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(34)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(33);(e.exports=r(!1)).push([e.i,"html{height:100%}body{height:100%;margin:0;font-family:'Roboto', sans-serif;font-size:15px}.app{width:100%;height:100%;display:flex;flex-direction:column;background-color:#f2f2f2}.app .header{height:50px;background-color:#f2f2f2;display:flex;align-items:center}.app .header .logo{margin-left:6px;flex:initial}.app .header #toolbar{text-align:right;flex:1}.app .header #toolbar .message{color:#666;font-size:12px;display:inline-block;margin-right:5px}.app .header .toolbar-fixed{flex:initial;margin-right:6px}.app .body{flex:1;display:flex}.app .body .sidebar{width:200px;background-color:#f2f2f2}.app .body .main{flex:1;background-color:#fff;overflow:hidden;box-shadow:inset 3px 3px 6px rgba(0,0,0,0.1),inset 0px 0px 50px rgba(0,0,0,0.05)}.app ul{margin:0;list-style:none;padding:0}.app ul li a,.app ul li span{display:block;padding:10px 20px;color:#333;text-transform:capitalize}.app ul li a{text-decoration:none}.app ul li span{background-color:#fff;font-weight:bold}button{box-shadow:inset 0px 1px 0px 0px #ffffff;background:linear-gradient(to bottom, #fff 5%, #f9f9f9 100%);background-color:#ffffff;border-radius:6px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#666666;font-size:13px;font-weight:bold;padding:6px 24px;text-decoration:none;text-shadow:0px 1px 0px #ffffff;margin:0 4px}button:hover{background:linear-gradient(to bottom, #f2f2f2 5%, #fff 100%);background-color:#f2f2f2}button:active{position:relative;top:1px}\n",""])},,,function(e,t){},,function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=n(39),i=function(){function e(e,t){void 0===t&&(t=o.strictEqual),this.value=e,this.equal=t,this.observable=this.emitter=r.Emitter.ofOne()}return e.prototype.set=function(e){return!this.equal(this.value,e)&&(this.value=e,this.emit(this.value),!0)},e.prototype.get=function(){return this.value},e.prototype.emit=function(e){this.emitter.emit(e)},e}();t.Property=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strictEqual=function(e,t){return e===t||e!=e&&t!=t},t.deepEqual=function(e,n){if(t.strictEqual(e,n))return!0;if(null==e||null==n)return!1;var r=Array.isArray(e);if(r!==Array.isArray(n))return!1;if(r){var o=e,i=n;if((y=o.length)!==i.length)return!1;for(var a=0;a<y;a++)if(!t.deepEqual(o[a],i[a]))return!1;return!0}var u=e instanceof Date;if(u!==n instanceof Date)return!1;if(u)return+e==+n;var c=e instanceof Set;if(c!==n instanceof Set)return!1;if(c){var s=e,l=n;if(s.size!==l.size)return!1;for(var f=s.keys();;){if((m=f.next()).done)break;if(!l.has(m.value))return!1}return!0}var p=e instanceof Map;if(p!==n instanceof Map)return!1;if(p){var d=e,h=n;if(d.size!==h.size)return!1;for(var v=d.keys();;){var m;if((m=v.next()).done)break;if(!t.deepEqual(d.get(m.value),h.get(m.value)))return!1}return!0}var g="object"==typeof e;if(g!==("object"==typeof n))return!1;if(g){var y,b=e,w=n,O=Object.keys(b),j=Object.keys(w);if((y=O.length)!==j.length)return!1;for(a=0;a<y;a++){var S=O[a];if(!w.hasOwnProperty(S))return!1;if(!t.deepEqual(b[S],w[S]))return!1}return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nothing=void 0,t.just=function(e){return e},t.isNothing=function(e){return null==e},t.isJust=function(e){return null!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(){function e(e){this.makeContent=e}return e.prototype.render=function(e,t){var n=this.makeContent,o=n(t)||"",i=e.doc.createTextNode(o);return e.append(i),{change:function(e){var t=n(e)||"";t!==o&&(i.nodeValue=t,t.length<5e3&&(o=t))},destroy:function(){r.removeNode(i)},request:function(e){}}},e}();t.DOMDerivedTextTemplate=o;var i=function(){function e(e){this.content=e}return e.prototype.render=function(e,t){var n=e.doc.createTextNode(this.content);return e.append(n),{change:function(e){},destroy:function(){r.removeNode(n)},request:function(e){}}},e}();t.DOMLiteralTextTemplate=i,t.text=function(e){return"function"==typeof e?new o(e):new i(e||"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),i=function(){function e(e,t){this.options=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,i=this.options,a=i.refId,u=i.repeatUntil,c=e.withAppendToReference(a),s=c.ctx,l=c.ref,f=[],p={change:function(e){for(var t=f.length,r=0,i=function(){var i=u(e,r);if(void 0===i)return"break";if(r<t)for(var a=0,c=f[r];a<c.length;a++){c[a].change(i)}else f.push(o.map((function(e){return e.render(s,i)}),n));r++};;){if("break"===i())break}for(var a=r;a<t;){for(var c=0,l=f[a];c<l.length;c++){l[c].destroy()}a++}f=f.slice(0,r)},destroy:function(){r.removeNode(l);for(var e=0,t=f;e<t.length;e++)for(var n=0,o=t[e];n<o.length;n++){o[n].destroy()}f=[]},request:function(e){for(var t=0,n=f;t<n.length;t++)for(var r=0,o=n[t];r<o.length;r++){o[r].request(e)}}};return p.change(t),p},e}();t.DOMUntilTemplate=i,t.until=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i(e,o.map(r.domChildToTemplate,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapAttribute=function(e,t){return void 0===e?void 0:"function"==typeof e?function(n){var r=e(n);return void 0!==r?t(r):void 0}:t(e)},t.attributeToHandler=function(e,t){return void 0===e?function(){}:"function"==typeof e?function(n,r,o){var i=e(n);return void 0!==i?t(i,r,o):void 0}:function(n,r,o){return t(e,r,o)}},t.resolveAttribute=function(e){return"function"==typeof e?e:function(t){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o){this.canvas=e,this.scope=t,this.project=n,this.append=r,this.dispatch=o}return e.prototype.mapAction=function(t){var n=this;return new e(this.canvas,this.scope,this.project,this.append,(function(e){return n.dispatch(t(e))}))},e.prototype.conditionalMapAction=function(t){var n=this;return new e(this.canvas,this.scope,this.project,this.append,(function(e){var r=t(e);void 0!==r&&n.dispatch(r)}))},e.prototype.withAppend=function(t){return new e(this.canvas,this.scope,this.project,t,this.dispatch)},e.prototype.withDispatch=function(t){return new e(this.canvas,this.scope,this.project,this.append,t)},e}();t.PaperContext=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,o=this.map,i=o(t),a=r.map((function(t){return t.render(e,i)}),n);return{change:function(e){for(var t=o(e),n=0,r=a;n<r.length;n++){r[n].change(t)}},destroy:function(){for(var e=0,t=a;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=a;t<n.length;t++){n[t].request(e)}}}},e}();t.MapStateTemplate=o,t.mapState=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new o(e.map,t)},t.mapStateAndKeep=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new o((function(t){return[e.map(t),t]}),t)};var i=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,o=this.map,i=e.conditionalMapAction(o),a=r.map((function(e){return e.render(i,t)}),n);return{change:function(e){for(var t=0,n=a;t<n.length;t++){n[t].change(e)}},destroy:function(){for(var e=0,t=a;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=a;t<n.length;t++){n[t].request(e)}}}},e}();t.MapActionTemplate=i,t.mapAction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i(e.map,t)};var a=function(){function e(e,t){this.map=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,o=this.map,i=r.map((function(n){return n.render(e,t)}),n);return{change:function(e){for(var t=0,n=i;t<n.length;t++){n[t].change(e)}},destroy:function(){for(var e=0,t=i;e<t.length;e++){t[e].destroy()}},request:function(e){var t=o(e);void 0!==t&&i.forEach((function(e){return e.request(t)}))}}},e}();t.MapQueryTemplate=a,t.mapQuery=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(e.map,t)},t.mapQueryConditional=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(e.map,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=function(){function e(e,t){this.options=e,this.children=t}return e.prototype.render=function(e,t){var n=this.children,i=this.options.repeatUntil,a=new o.Group;e.append(a);var u=e.withAppend((function(e){return a.addChild(e)})),c=[],s={change:function(e){for(var t=c.length,o=0,a=function(){var a=i(e,o);if(void 0===a)return"break";if(o<t)for(var s=0,l=c[o];s<l.length;s++){l[s].change(a)}else c.push(r.map((function(e){return e.render(u,a)}),n));o++};;){if("break"===a())break}for(var s=o;s<t;){for(var l=0,f=c[s];l<f.length;l++){f[l].destroy()}s++}c=c.slice(0,o)},destroy:function(){a.remove();for(var e=0,t=c;e<t.length;e++)for(var n=0,r=t[e];n<r.length;n++){r[n].destroy()}c=[]},request:function(e){for(var t=0,n=c;t<n.length;t++)for(var r=0,o=n[t];r<o.length;r++){o[r].request(e)}}};return s.change(t),s},e}();t.PaperUntilTemplate=i,t.until=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i(e,t)}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(3),a=function(){function e(e,t,n){this.getParent=e,this.append=t,this.children=n}return e.prototype.render=function(e,t){var n=this,r=this.getParent(e.doc),o=e.withAppend((function(t){return n.append(e.doc,t)})).withParent(r),a=i.map((function(e){return e.render(o,t)}),this.children);return{change:function(e){for(var t=0,n=a;t<n.length;t++){n[t].change(e)}},destroy:function(){for(var e=0,t=a;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=a;t<n.length;t++){n[t].request(e)}}}},e}();t.DOMPortalTemplate=a,t.portal=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(e.getParent,e.append,i.map(o.domChildToTemplate,t))},t.portalWithSelector=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return t.portal.apply(void 0,r([{getParent:function(t){var n=t.querySelector(e.selector);if(!n)throw new Error("selector doesn't match any element: \""+e.selector+'"');return n},append:function(t,n){t.querySelector(e.selector).appendChild(n)}}],n))},t.headPortal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new a((function(e){return e.head}),(function(e,t){return e.head.appendChild(t)}),i.map(o.domChildToTemplate,e))},t.bodyPortal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new a((function(e){return e.body}),(function(e,t){return e.body.appendChild(t)}),i.map(o.domChildToTemplate,e))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),i=function(){function e(e,t,n){this.store=e,this.children=t,this.delayed=n}return e.prototype.render=function(e,t){var n;if(this.delayed){var r=!0;n=function(e){r&&(r=!1,setTimeout((function(){s.change(e),r=!0})))}}else n=function(e){s.change(e)};var i=this.store,a=i.property;a.observable.on(n);var u=e.withDispatch((function(e){i.process(e)})),c=o.map((function(e){return e.render(u,a.get())}),this.children),s={change:function(e){i.property.set(e);for(var t=0,n=c;t<n.length;t++){n[t].change(e)}},destroy:function(){a.observable.off(n);for(var e=0,t=c;e<t.length;e++){t[e].destroy()}},request:function(e){for(var t=0,n=c;t<n.length;t++){n[t].request(e)}}};return a.set(t),s},e}();t.DOMComponentTemplate=i,t.component=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new i(e.store,o.map(r.domChildToTemplate,t),e.delayed||!1)}},function(e,t,n){"use strict";n.r(t);n(31);var r=n(30),o=n(1),i=n(21),a=n(2),u=n(5),c=n(23),s=n(7);const l=["path_simplification","symbol"],f={changeSample:e=>({kind:"ChangeSample",sample:e}),exportSVG:{kind:"ExportSVG"},exportPNG:{kind:"ExportPNG"},setMainAreaSize:e=>({kind:"SetMainAreaSize",size:e})},p={mainAreaSize:e=>({kind:"MainAreaSize",callback:e}),exportPNG:e=>({kind:"ExportPNG",callback:e}),exportSVG:e=>({kind:"ExportSVG",callback:e})};var d=n(4),h=n(8),v=n(22),m=n(0);const g=(e,t)=>t=>{var n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e,n.click()},y=g("export.svg"),b=g("export.png");var w=n(24),O=n(9),j=n(10),S=n(25),P=n(27),x=n(11),A=n(26);const k=[];for(let e=0;e<500;e++)k.push({pos:new m.Point(.95*Math.random()+.025,.95*Math.random()+.025),rotation:30*Math.random()-15});const _={size:new m.Size(0,0),stars:k},M=d.Store.ofState({state:_,reducer:(e,t)=>e}),T=Object(w.lazy)(()=>Object(O.adapter)({mergeStates:(e,t)=>Object.assign(Object.assign({},t),{size:e.size})},(()=>{const e=new m.Path.Star({insert:!1,center:new m.Point(0,0),radius1:2.5,radius2:6,points:5,fillColor:new m.Color(1,1,.4),strokeWidth:.5,strokeColor:new m.Color(.8,.8,.8),shadowBlur:0}),t=new m.SymbolDefinition(e);return Object(j.component)({store:M},Object(S.rectangle)({opacity:0,size:e=>e.size,fillColor:new m.Color(.11,.1,.15),position:e=>new m.Point(e.size.width/2,e.size.height/2),afterrender:(t,n)=>{n.onFrame=()=>{n.opacity<1?n.opacity=n.opacity+.04:(n.opacity=1,e.shadowBlur<20?(e.shadowColor=new m.Color(1,1,.9),e.shadowBlur=e.shadowBlur+1,e.shadowOffset=new m.Point(0,0)):n.onFrame=null)}}}),Object(A.layer)({fillColor:new m.Color(1,0,0)}),Object(x.iterate)({getArray:e=>e.stars},Object(P.symbolItem)({definition:t,rotation:([e])=>e.rotation,position:([e,t])=>{const n=e.pos.clone();return n.x=n.x*t.size.width,n.y=n.y*t.size.height,n}})))})())),q={drawing:{kind:"drawing"},editing:e=>({kind:"editing",pathIndex:e})},C={paths:[],current:[],mode:q.drawing},E=Object(h.reduceOnKind)({AddSegment:(e,t)=>{const n=e.current.concat([t.segment]);return Object.assign(Object.assign({},e),{current:n})},AddPath:e=>{if(e.current.length<=1)return e;const t=new m.Path({segments:e.current,insert:!1,applyMatrix:!1});t.simplify(10);const n=e.paths.concat([{segments:t.segments.map(e=>{const n=e.clone();return n.transform(new m.Matrix(1,0,0,1,-t.position.x,-t.position.y)),n}),position:t.position}]);return t.remove(),Object.assign(Object.assign({},e),{paths:n,current:[],mode:q.editing(n.length-1)})},RemovePath:e=>{if("drawing"===e.mode.kind)return e;const t=e.paths.slice(0,e.mode.pathIndex).concat(e.paths.slice(e.mode.pathIndex+1));return Object.assign(Object.assign({},e),{mode:q.drawing,paths:t})},ChangeMode:(e,t)=>Object.assign(Object.assign({},e),{mode:t.mode}),UpdatePosition:(e,t)=>{if("editing"===e.mode.kind){const n=e.paths[e.mode.pathIndex],r=Object.assign(Object.assign({},n),{position:n.position.add(t.delta)}),o=e.paths.slice(0,e.mode.pathIndex).concat([r]).concat(e.paths.slice(e.mode.pathIndex+1));return Object.assign(Object.assign({},e),{paths:o})}return e}}),z={addSegment:e=>({kind:"AddSegment",segment:e}),addPath:{kind:"AddPath"},removePath:{kind:"RemovePath"},selectPath:e=>({kind:"ChangeMode",mode:q.editing(e)}),draw:{kind:"ChangeMode",mode:q.drawing},updatePosition:e=>({kind:"UpdatePosition",delta:e})};var B=n(13),I=n(14),N=n(28),D=n(29);const R=Object(o.span)({},Object(o.span)({attrs:{class:"message"}},Object(u.match)(["mode","kind"],{editing:e=>`Selected line has ${e.paths[e.mode.pathIndex].segments.length} segments`,drawing:e=>e.current.length>0?`line has ${e.current.length} segments`:e.paths.length>0?"click to select a line or click and drag to draw":"click and drag to draw a line"})),Object(o.span)({attrs:{class:"actions"}},Object(o.button)({attrs:{disabled:e=>"editing"!==e.mode.kind},events:{click:()=>z.removePath}},"Remove Selected"))),G=d.Store.ofState({state:C,reducer:E}),L=Object(O.adapter)({},(V=G,Object(j.component)({store:V},Object(N.htmlPortalWithSelector)({selector:"#toolbar"},R),Object(B.tool)({active:({mode:e})=>"drawing"===e.kind,onMouseDown:(e,t,n,r)=>{const o=r.hitTest(t.point,{stroke:!0,tolerance:5});return o?z.selectPath(o.item.index):z.draw},onMouseUp:()=>z.addPath,onMouseDrag:(e,t)=>z.addSegment(new m.Segment(t.point))}),Object(B.tool)({active:({mode:e})=>"editing"===e.kind,onMouseDown:(e,t,n,r)=>{const o=r.hitTest(t.point,{stroke:!0,tolerance:5});return o?z.selectPath(o.item.index):z.draw},onMouseDrag:(e,t)=>z.updatePosition(t.delta)}),Object(I.path)({segments:e=>e.current,selected:!0}),Object(x.iterate)({getArray:e=>e.paths},Object(I.path)({applyMatrix:!1,position:([e])=>e.position,segments:([e])=>e.segments,strokeWidth:1,strokeColor:new m.Color(.2,.2,.2),fullySelected:([e,t,n])=>Object(D.matchKind)({drawing:()=>!1,editing:({pathIndex:e})=>e===n})(t.mode)})))));var V;const K=(()=>{const e=location.hash.substring(1),t=l.indexOf(e)>=0?e:l[0];return{examples:l,selected:t,mainAreaSize:void 0}})(),U=Object(h.reduceOnKind)({ChangeSample:(e,t)=>Object.assign(Object.assign({},e),{selected:t.sample}),SetMainAreaSize:(e,t)=>Object.assign(Object.assign({},e),{mainAreaSize:t.size}),ExportPNG:e=>e,ExportSVG:e=>e}),F=d.Store.ofState({state:K,reducer:U}),W=Object(o.article)({attrs:{className:"app"}},Object(o.header)({attrs:{class:"header"}},Object(o.div)({attrs:{class:"logo"}},"Tempo + Paper"),Object(o.div)({attrs:{id:"toolbar"}}),Object(o.div)({attrs:{class:"toolbar-fixed"}},Object(o.button)({events:{click:()=>f.exportSVG}},"Export to SVG"),Object(o.button)({events:{click:()=>f.exportPNG}},"Export to PNG"))),Object(o.section)({attrs:{class:"body"}},Object(o.section)({attrs:{class:"sidebar"}},Object(o.ul)({},Object(i.iterate)({getArray:e=>e.examples},Object(o.li)({},Object(u.matchBool)({condition:([e,t,n])=>e===t.selected,true:Object(o.span)({},([e])=>e.split("_").join(" ")),false:Object(o.a)({attrs:{href:([e])=>`#${e}`},events:{click:([e])=>f.changeSample(e)}},([e])=>e.split("_").join(" "))}))))),Object(o.main)({attrs:{class:"main"},respond:(e,t)=>{if("MainAreaSize"===e.kind){const n=Object(a.containerSize)(t);e.callback(new m.Size(n.width,n.height))}}},Object(u.matchBool)({condition:e=>void 0!==e.mainAreaSize,true:Object(s.mapState)({map:e=>({size:e.mainAreaSize,kind:e.selected})},Object(v.project)({width:({size:e})=>e.width,height:({size:e})=>e.height,respond(e,t,n,r){if(r)if("ExportSVG"===e.kind){const t=r.context.project.exportSVG({asString:!0,embedImages:!0}),n=new Blob([t],{type:"application/svg+xml"});e.callback(n)}else"ExportPNG"===e.kind&&r.context.canvas.toBlob(t=>e.callback(t),"image/png")}},Object(c.matchKind)({symbol:T,path_simplification:L}))),false:""})))),{view:Q}=r.Tempo.render({store:F,template:W});var J;F.observable.on((J=Q,(e,t)=>{switch(t.kind){case"ExportPNG":return J.request(p.exportPNG(b));case"ExportSVG":return J.request(p.exportSVG(y))}}));const H=p.mainAreaSize(e=>{F.process(f.setMainAreaSize(e))});Q.request(H),window.addEventListener("resize",()=>{Q.request(H)},!1)}]);